---
layout: post
title: "DDos attack from Browser basedBotnets"
description: ""
category: 
tags: []
---
{% include JB/setup %}
基于浏览器的僵尸网络就是DDoS世界里的T-1000s.他们之所以如此危险是因为他们就跟终结者里的反派一样,被设计的可以适应各种情况的攻击.当其他原始的网络僵尸还在暴力破解你的防御的时候,基于浏览器的僵尸就已经模拟真实的人类从前门进入了.

当你意识到情况不对时,他们已经突破边界,搞宕服务器,已经无力回天了.

那么应该怎么防御T-1000呢,怎么分辨一次访问是来自与真实的浏览器还是一个基于浏览器的僵尸?传统的过滤僵尸的策略在面对能够保存cookie和执行javascript的僵尸时都失效了.而不分青红皂白地让所有用户都填写验证码无异于自我毁灭,尤其是当这种攻击可能持续数个星期的时候.

为了研究防御方法,我们来看一个真实的案例.

这次攻击是一个未知的僵尸网络发起的.这些基于浏览器的僵尸可以保存cookie,执行javascript.攻击的早期我们识别出是PhantomJS无界面浏览器.

PhanomJS是一套开发无界面浏览器的工具.它提供所有浏览器的功能但是没有界面,没有按钮,没有地址栏.一般被用在自动化测试和网络监控上.

这次攻击持续了150个小时以上.这个过程中,我们记录了全球超过180000个恶意IP.高峰期每秒6000次攻击,平均一天有690000000次以上.攻击IP的数量和分布范围让我们觉得这应该不仅仅是一个僵尸网络,而是可能整合了多个.

![ddos]({{site.img_url}}ddos1.gif)

攻击过程中我们截获了861个不同的user-agent.
